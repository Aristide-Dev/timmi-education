import{c as C,r as E,j as e,a as y,H as D}from"./app-qCQb-rXY.js";import{a as v,A,b as B}from"./app-layout-B_r3Rrx0.js";import{B as F}from"./index-2ggMmHzy.js";import{B as T}from"./badge-CL45NMRh.js";import{b as R,c as L,a as V,C as z}from"./card-jlbms5zY.js";import{S as H,a as M,b as P,c as d,d as $}from"./select-CBq0ZING.js";import{M as b}from"./appearance-toggle-ChiM-gZ_.js";import{P as k}from"./phone-CCmBsZ_S.js";import{B as I}from"./book-open-D8zXQ9gB.js";import{C as G}from"./calendar-DHXK72FE.js";import{E as O}from"./eye-Ck40YKVk.js";/* empty css            */import"./index-DTzN7dy9.js";import"./index-C5Pla0PL.js";import"./index-CFui-q-R.js";import"./index-Bp3BDrT3.js";import"./app-logo-icon-0au9t1J9.js";import"./users-DTuUKQNx.js";import"./circle-check-C-ylYjZw.js";import"./index-DyGAzd90.js";import"./check-DOu_u5fW.js";const U=[{title:"Demandes de professeurs",href:v().url}],J={pending:"En attente",in_progress:"En cours",completed:"Terminée",cancelled:"Annulée"},K={pending:"warning",in_progress:"default",completed:"success",cancelled:"danger"};function ue(t){const s=C.c(20),{requests:o,filters:S}=t,[a,_]=E.useState(S.status||"all");let x;s[0]===Symbol.for("react.memo_cache_sentinel")?(x=c=>{_(c);const N=new URLSearchParams;c!=="all"&&N.set("status",c),y.get(v().url+(N.toString()?`?${N.toString()}`:""))},s[0]=x):x=s[0];const w=x;let p;s[1]!==o||s[2]!==a?(p=a==="all"?o:o.filter(c=>c.status===a),s[1]=o,s[2]=a,s[3]=p):p=s[3];const l=p;let h;s[4]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(D,{title:"Demandes de professeurs"}),s[4]=h):h=s[4];let f;s[5]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Demandes de professeurs"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Gérez les demandes de professeurs reçues"})]}),s[5]=f):f=s[5];let u;s[6]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsx(H,{className:"w-[180px]",children:e.jsx(M,{placeholder:"Filtrer par statut"})}),s[6]=u):u=s[6];let j;s[7]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs(P,{children:[e.jsx(d,{value:"all",children:"Tous les statuts"}),e.jsx(d,{value:"pending",children:"En attente"}),e.jsx(d,{value:"in_progress",children:"En cours"}),e.jsx(d,{value:"completed",children:"Terminée"}),e.jsx(d,{value:"cancelled",children:"Annulée"})]}),s[7]=j):j=s[7];let r;s[8]!==a?(r=e.jsxs("div",{className:"flex items-center justify-between",children:[f,e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs($,{value:a,onValueChange:w,children:[u,j]})})]}),s[8]=a,s[9]=r):r=s[9];let n;s[10]!==l.length?(n=e.jsx(R,{children:e.jsxs(L,{children:["Demandes (",l.length,")"]})}),s[10]=l.length,s[11]=n):n=s[11];let i;s[12]!==l?(i=e.jsx(V,{children:l.length===0?e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(b,{className:"mx-auto mb-4 size-12 opacity-50"}),e.jsx("p",{children:"Aucune demande trouvée"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Nom"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Téléphone"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Matière"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Statut"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(Q)})]})})}),s[12]=l,s[13]=i):i=s[13];let m;s[14]!==n||s[15]!==i?(m=e.jsxs(z,{children:[n,i]}),s[14]=n,s[15]=i,s[16]=m):m=s[16];let g;return s[17]!==m||s[18]!==r?(g=e.jsxs(A,{breadcrumbs:U,children:[h,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4",children:[r,m]})]}),s[17]=m,s[18]=r,s[19]=g):g=s[19],g}function Q(t){return e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"font-medium",children:t.name})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),t.email]})}),e.jsx("td",{className:"px-4 py-3",children:t.phone?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(k,{className:"h-4 w-4"}),t.phone]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:t.matiere?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[t.matiere.name," ",t.niveau&&`(${t.niveau.name})`]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(T,{variant:K[t.status],children:J[t.status]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{className:"h-4 w-4"}),new Date(t.created_at).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>y.visit(B(t.uuid).url),className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Voir"]})})]},t.id)}export{ue as default};
